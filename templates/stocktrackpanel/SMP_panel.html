{% load i18n %}
{% load static %}
<div id='SMP-tracking-table-toolbar'>
    <div class='btn-group'>
        {% include "filter_list.html" with id="smp_track" %}
    </div>
</div>
<table
class='table table-striped table-condensed'
id="SMP_track_table"
data-id-table="SMP_track_table"
data-toolbar='#SMP-tracking-table-toolbar'
data-url="{{dataUrl}}"
>
    <thead class="">
        <tr>
            <th data-sortable="true" class="th-inner sortable both" data-field="item_detail.part_name" data-formatter="SMP_item_formatter">
                {% trans 'Item' %}
            </th>
            <th data-sortable="true" class="th-inner sortable both" data-field="item_detail.batch" >
                {% trans 'Batch' %}
            </th>
            <th data-sortable="true" class="th-inner sortable both" data-field="item_detail.serial" >
                {% trans 'Serial' %}
            </th>
            <th data-sortable="true" class="th-inner sortable both" data-field="item_detail.quantity"  data-formatter="SMP_quantity_formatter">
                {% trans 'Quantity' %}
            </th>
            <th data-sortable="true" class="th-inner sortable both" data-field="item_detail.location_detail.pathstring" >
                {% trans 'Location' %}
            </th>
            <th data-sortable="true" class="th-inner sortable both" data-field="date">
                {% trans 'Date' %}
            </th>

            <th data-sortable="true" class="th-inner sortable both" data-field="label">
                {% trans 'Type' %}
            </th>
            <th data-sortable="true" class="th-inner sortable both" data-field="user_detail.username">
                {% trans 'User' %}
            </th>
        </tr>
    </thead>
    <tbody>

    </tbody>
</table>
<script>
    function SMP_generete_sid_url(id){
        return "{% url 'stock-item-detail' pk=1122334455 %}".replace("1122334455", id);
    }
    function SMP_generete_part_url(id){
        return "{% url 'part-detail' pk=1122334455 %}".replace("1122334455", id);
    }
    function SMP_item_formatter(value, row, index, field){
        response ='<a href="'+SMP_generete_part_url(row.item_detail.part)+'" title="'+SMP_generete_part_url(row.item_detail.part)+'">'+value+'</a>'
        return response;
    }
    function SMP_quantity_formatter(value, row, index, field){
        response ='<a href="'+SMP_generete_sid_url(row.item)+'" title="'+SMP_generete_sid_url(row.item)+'">'+value+'</a>'
        return response;
    }
</script>